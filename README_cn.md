### 概述

本项目通过添加全面的**实时状态监视器**来增强官方 MuJoCo `simulate` 应用程序，可在仿真过程中实时显示所有关节位置 (qpos) 和速度 (qvel)。

### 功能特性

- **📊 完整状态监控**: 实时显示所有关节的 qpos 和 qvel 数据
- **🎯 层级组织**: 按关节名称清晰分组，独立的 qpos/qvel 区域
- **⚡ 实时更新**: 仿真过程中数值自动更新
- **💾 紧凑显示**: 优化格式以最大化信息密度
- **🔧 易于集成**: 可直接替换标准 MuJoCo simulate

### 新增功能

#### 添加的功能
- **State (qpos/qvel) 区域**: 右侧面板中新的可折叠 UI 区域
- **基于关节的组织**: 每个关节都有自己的 `关节名_qpos` 和 `关节名_qvel` 子区域
- **压缩格式**: 显示为 `索引:描述符,数值` (例如 `0:qw,0.956`)
- **智能描述符**: 简化名称 (`ang` 代表角度, `av` 代表角速度等)
- **性能优化**: 仅在区域展开时更新

#### 技术实现
- **动态 UI 生成**: 根据模型关节自动创建 UI 元素
- **实时数据绑定**: 直接访问 MuJoCo 的 qpos/qvel 数组
- **高效更新**: 60fps 更新频率，性能影响最小
- **内存安全**: 适当的边界检查和内存管理

### 使用方法

1. **编译**: 使用修改后的 `simulate.cc` 和 `simulate.h` 文件构建 MuJoCo
2. **运行**: 正常启动 simulate: `./simulate model.xml`
3. **监控**: 展开右侧面板中的 "State (qpos/qvel)" 区域
4. **观察**: 在仿真过程中观察实时关节状态变化

### 显示格式

```
State (qpos/qvel)
├── root_qpos
│   ├── 0:qw,0.956     # 四元数 w 分量
│   ├── 1:qx,-0.000    # 四元数 x 分量
│   ├── 2:qy,0.260     # 四元数 y 分量
│   ├── 3:qz,0.000     # 四元数 z 分量
│   ├── 4:px,0.000     # 位置 x
│   ├── 5:py,0.000     # 位置 y
│   └── 6:pz,0.000     # 位置 z
├── root_qvel
│   ├── 0:avx,0.123    # 角速度 x
│   ├── 1:avy,-0.045   # 角速度 y
│   ├── 2:avz,0.000    # 角速度 z
│   ├── 3:vx,0.000     # 线速度 x
│   ├── 4:vy,0.000     # 线速度 y
│   └── 5:vz,0.000     # 线速度 z
├── 关节名_qpos
│   └── 7:ang,0.123    # 关节角度
├── 关节名_qvel
│   └── 6:av,0.045     # 关节角速度
```

### 支持的关节类型

- **自由关节**: 具有四元数方向的完整 6DOF
- **球关节**: 3DOF 旋转关节
- **铰链关节**: 1DOF 旋转关节
- **滑动关节**: 1DOF 平移关节

### 修改的文件

- `simulate.cc`: 核心实现，包含状态监控函数
- `simulate.h`: 头文件添加，用于状态跟踪数据结构

### 兼容性

- **MuJoCo 版本**: 3.3.4+
- **平台**: 跨平台 (Windows, Linux, macOS)
- **模型**: 兼容所有 MuJoCo 模型格式

### 安装说明

1. 下载 `simulate.cc` 和 `simulate.h` 文件
2. 替换 MuJoCo 源码中对应的文件
3. 重新编译 MuJoCo simulate 应用程序
4. 享受增强的状态监控功能！

### 贡献

欢迎提交 Issue 和 Pull Request 来改进这个项目。

---

**注意**: 本增强版本基于 MuJoCo 3.3.4 开发和测试。对于其他版本，可能需要进行适当的调整。
